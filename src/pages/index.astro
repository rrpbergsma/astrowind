---
export const prerender = false;
import { detectPreferredLanguage } from '~/utils/language';

// Get the hash fragment if present
const url = new URL(Astro.request.url);
const hash = url.hash;

// Detect preferred language
const preferredLanguage = detectPreferredLanguage(Astro.request);

// Redirect to the language-specific homepage
return Astro.redirect(`/${preferredLanguage}/${hash}`);
---
